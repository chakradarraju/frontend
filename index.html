<html xmlns="http://www.w3.org/1999/html">
<head>
<title>Twitter App</title>
<link type="text/css" rel="stylesheet" href="bootstrap/css/bootstrap.css" />
<link type="text/css" rel="stylesheet" href="jscss/style.css" />
</head>
<body>
<div class="navbar navbar-fixed-top">
<div class="navbar-inner">
<div class="container">
<ul id="navbar" class="nav">
<li id="menu-feed" class="menuitem active"><a href="#feed">Feeds</a></li>
<li id="menu-profile" class="menuitem"><a href="#profile">Profile</a></li>
<li id="menu-search" class="dropdown">
    <input type="text" id="searchBox" class="search-query" placeholder="Search..." />
    <ul class="dropdown-menu" id="searchList">
        <li><a>Start typing to search users</a></li>
    </ul>
</li>
</ul>
<button id="logoutButton" class="btn btn-danger"><i class="icon-off icon-white"></i> Logout</button>
</div>
</div>
</div>
<div id="background">
&nbsp;&nbsp;
</div>
<div id="content-wrapper">

    <div id="message" style="display: none;">
        <a id="messageClose" onclick="closealert(this)" href="javascript:void(0);">X</a>
        <div id="messageContent"></div>
    </div>

    <!-- feed -->
    <div id="tab-feed" class="sector">
        <div id="dashboard">
            <div class="brick">
                <img src="" id="miniProfilePic" class="avatar" alt="Profile Pic" style="height: 80px; width: 80px;">
                <h3><span id="miniProfileName"></span></h3>
                @<span id="miniProfileId"></span><br/>
                <div class="clearer"></div>
                <div style="margin-top: 15px;">
                    <a href="#" id="miniProfileTweetsLink"><span id="miniProfileTweets"></span> Tweets</a>
                    <a href="#" id="miniProfileFollowersLink"><span id="miniProfileFollowers"></span> Followers</a>
                    <a href="#" id="miniProfileFollowingLink"><span id="miniProfileFollowing"></span> Following</a>
                </div>
            </div>
            <div class="brick">
                <h3 style="margin: 0 10px">Bookmarks:</h3>
                <input type="text" id="bookmarkInput"/><button class="btn btn-primary" id="bookmarkButton">+</button>
                <ul id="bookmarkList">
                </ul>
            </div>
        </div>
        <div id="content-feed">
            <div class="brick">
                <div class="tweetBoxContainer">
                    <h3 style="display:none">Write a tweet:</h3>
                    <textarea maxlength="140" id="tweetBox" placeholder="Wassup?"></textarea>
                    <div style="display:inline-block;">
                        <button id="postBtn" class="btn btn-primary">Post</button>
                        <button id="clearBtn" class="btn">Clear</button>
                        <span id="counter"> </span>
                    </div>
                </div>
                <hr/>
                <h2>Tweets feed:</h2>
                <div id="feedContainer" class="tweetsContainer">
                </div>
                <div style="text-align: center"><a onclick="loadOlderFeed()" href="javascript:void(0);">Load more tweets</a></div>
                <div class="clearer"></div>
            </div>
        </div>
    </div>

    <!-- profile -->
    <div id="tab-profile" class="sector">
        <div id="content-profile">
            <div class="brick">
                <img id="profileImage" src="" class="avatar" style="height: 100px; width: 100px;"/>
                <button class="btn btn-primary btn-large" id="followButton" style="float:right;">Follow</button>
                <button class="btn btn-large" id="unfollowButton" style="float:right;">UnFollow</button>
                <button class="btn btn-primary btn-large" id="editProfileButton" style="float:right;" onclick="window.location='#editProfile'">Edit Profile</button>
                <h2><span id="profileUsername"></span></h2>
                EmailId: <span id="profileEmailId"></span><br/>
                <a id="profileTweetsLink" href="#"><span id="profileTweets"></span> Tweets</a><br/>
                <a id="profileFollowersLink" href="#"><span id="profileFollowers"></span> Followers</a><br/>
                <a id="profileFollowingLink" href="#"><span id="profileFollowing"></span> Following</a><br/>
                <div class="clearer"></div>
            </div>
            <div class="brick" style="overflow: hidden;">
                <div style="overflow: hidden;">
                    <div id="container" style="width:2580px;">
                        <div id="profile-tweets" class="profileList">
                            <h2>User tweets:</h2>
                            <div id="tweetContainer" class="tweetsContainer">
                            </div>
                            <div style="text-align: center"><a onclick="loadOlderTweet()" href="javascript:void(0);">Load more tweets</a></div>
                            <div class="clearer"></div>
                        </div>
                        <div id="profile-followers" class="profileList">
                            <h2>Followers:</h2>
                            <div id="followersContainer" class="listing"></div>
                            <div style="text-align: center"><a onclick="showMoreFollowers()" href="javascript:void(0);">Load more Followers</a></div>
                            <div class="clearer"></div>
                        </div>
                        <div id="profile-following" class="profileList">
                            <h2>Following:</h2>
                            <div id="followingContainer" class="listing"></div>
                            <div style="text-align: center"><a onclick="showMoreFollowing()" href="javascript:void(0);">Load more Following users</a></div>
                            <div class="clearer"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- edit profile -->
    <div id="tab-editprofile" class="sector">
        <div id="content-editprofile">
            <div class="brick form-inline">
                <div style="margin: 20px;">
                    <div style="float: left; width: 50%">
                        <h2>Edit profile Picture:</h2>
                        <a href="#editprofile"><img id="editProfileImage" src="" class="avatar" style="width:100px; height: 100px; float: none;"/></a><br/>
                        <form id="profilePicForm" action="/backend/editpicture/" method="POST" enctype="multipart/form-data">
                            <input type="file" name="picture" />
                            <input type="submit" value="Upload picture" />
                        </form>

                        <h2>Edit Background:</h2>
                        <select id="editProfileBackground">
                            <option value="img/pattern1.gif">Chakras</option>
                            <option value="img/pattern2.png">ABC</option>
                            <option value="img/pattern3.jpg">Mesh</option>
                            <option value="img/pattern4.jpg">Curls</option>
                            <option value="img/pattern5.jpg">Blue cells</option>
                            <option value="img/pattern6.gif">Flowers 1</option>
                        </select>
                    </div>
                    <div style="float: left; width: 50%">
                        <h2>Edit profile information:</h2>
                        <input type="text" id="editProfileUsername" placeholder="Username"/><br/>
                        <input type="text" id="editProfileEmail" placeholder="Email"/><br/>
                        <input type="password" id="editProfileCurrentPassword" placeholder="Current Password"/><br/>
                        <input type="password" id="editProfilePassword" placeholder="Password"/><br/>
                        <input type="password" id="editProfileConfirmPassword" placeholder="Confirm Password"/><br/>
                        <button class="btn btn-primary" id="editProfileSave">Save</button>
                    </div>
                    <div class="clearer"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- search -->
    <div id="tab-search" class="sector">
        <div class="brick">
            <h2>Search results for: <span id="search-query"></span></h2>
            Found <span id="search-user-count">0</span> user(s) and <span id="search-tweet-count">0</span> tweet(s).
            <hr/>
            <ul class="nav nav-tabs" style="margin-bottom:3px;">
                <li id="searchUserTab" class="searchTab active"><a id="searchUserLink" href="#">Users</a></li>
                <li id="searchTweetTab" class="searchTab"><a id="searchTweetLink" href="#">Tweets</a></li>
            </ul>
            <div id="searchUserContainer" class="searchContainer active"></div>
            <div id="searchTweetContainer" class="searchContainer"></div>
        </div>
    </div>

    <!-- popup -->
    <div id="popup">
        <div id="popupInner">
            <div id="popupContainer"></div>
            <button class="btn btn-primary" onclick="closealert(this)">Ok</button>
        </div>
        <div id="closeButtonPop">
        </div>
    </div>

    <div class="clearer"></div>
</div>
<div id="ticker"></div>

<!--
<script src="jscss/jquery.min.js"></script>
<script src="jscss/underscore.min.js"></script>
<script src="jscss/jquery.cookie.min.js"></script>
<script src="jscss/jquery.form.min.js"></script>
<script src="jscss/md5.min.js"></script>
<script src="bootstrap/js/bootstrap.js"></script>
-->
<script src="jscss/compress.js"></script>
<script type="text/html" id="tmpl-tweet">
    <div class="tweet listing" id="<%=id%>" style="display:none">
        <img src="avatar/<%=sourceuser['userid']%>" class="avatar"/>
        <span class="user"><a href="#profile/<%=sourceuser['userid']%>"><%=sourceuser['username']%></a> @<%=sourceuser['userid']%></span><span class="timestamp" ref="<%=timestamp%>"></span> <br/>
        <%=postcontent%><br/>
        <% if(myProfile!=null&&sourceuser['userid']!=myProfile['userid']) { %>
        <a href="javascript:void(0);" onclick="retweet(<%=postid%>)">Retweet</a>
        <% } %>
    </div>
</script>
<script type="text/html" id="tmpl-user-search-popup">
    <li>
        <a href="#profile/<%=userid%>"><%=username%></a>
    </li>
</script>
<script type="text/html" id="tmpl-user">
    <div class="listing" id="<%=id%>" style="display:none;">
        <img src="avatar/<%=userid%>" class="avatar"/>
        <span class="user"><a href="#profile/<%=userid%>"><%=username%></a> @<%=userid%></span><br/>
        <% if(typeof postcount != 'undefined') { %>
        <a href="#profile/<%=userid%>">Tweets: <%=postcount%></a> <a href="#profile/<%=userid%>/followers">Followers: <%=followerscount%></a> <a href="#profile/<%=userid%>/following">Following: <%=followingcount%></a><br/>
        <% } %>
        &nbsp;
        <% if(typeof showbutton != 'undefined') { if(following(userid)) { %>
        <button class="btn" onclick="updateSearchUser('unfollow/<%=userid%>')">UnFollow</button>
        <% } else if(myProfile!=null&&userid!=myProfile['userid']) { %>
        <button class="btn btn-primary" onclick="updateSearchUser('follow/<%=userid%>')">Follow</button>
        <% } }%>
        <span class="email"> EmailId: <%=emailid%></span><br/>
    </div>
</script>
<script src="jscss/script.js"></script>

</body>
</html>
